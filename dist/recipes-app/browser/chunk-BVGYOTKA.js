import{a as I}from"./chunk-FZFX6HZC.js";import{a as N,c as T,d as F,f as j,h as D,i as k,o as q,p as O,q as R,t as G}from"./chunk-GW647PYK.js";import{C as l,D as v,I as m,K as y,L as r,M as o,N as f,O as x,Q as g,R as d,T as S,U as p,W as C,ea as L,fa as E,oa as V,p as b,s as M,sa as A,t as w,ua as P,va as z,w as c,wa as B,x as u}from"./chunk-JJWHNU3G.js";function K(i,e){if(i&1){let a=x();r(0,"app-alert",5),g("close",function(){c(a);let t=d();return u(t.handleError())}),o()}if(i&2){let a=d();m("message",a.error)}}function Q(i,e){i&1&&(r(0,"div"),f(1,"app-loading-spinner"),o())}function U(i,e){if(i&1){let a=x();r(0,"form",6,7),g("ngSubmit",function(){c(a);let t=S(1),s=d();return u(s.onSubmit(t))}),r(2,"div",8)(3,"label",9),p(4,"E-Mail"),o(),f(5,"input",10),o(),r(6,"div",8)(7,"label",11),p(8,"password"),o(),f(9,"input",12),o(),r(10,"div",8)(11,"button",13),p(12),o(),p(13," | "),r(14,"button",14),g("click",function(){c(a);let t=d();return u(t.onSwitchMode())}),p(15),o()()()}if(i&2){let a=S(1),n=d();l(11),m("disabled",!a.valid),l(),C(" ",n.isLoginMode?"Login":"Sign up"," "),l(3),C(" ",n.isLoginMode?"Dont have an account?":"Already have an account?"," ")}}var H=(()=>{let e=class e{constructor(n,t){this.AuthService=n,this.router=t,this.isLoginMode=!0,this.isLoading=!1,this.error=null}onSwitchMode(){this.isLoginMode=!this.isLoginMode}onSubmit(n){if(!n.valid)return;let t=n.value.email,s=n.value.password;this.isLoading=!0;let h;this.isLoginMode&&(h=this.AuthService.login(t,s)),this.isLoginMode||(h=this.AuthService.signup(t,s)),h.subscribe(_=>{this.isLoading=!1,this.router.navigate(["/recipes"])},_=>{this.error=_,console.error(_),this.isLoading=!1}),n.reset()}handleError(){this.error=null}};e.\u0275fac=function(t){return new(t||e)(v(I),v(V))},e.\u0275cmp=M({type:e,selectors:[["app-auth"]],decls:5,vars:3,consts:[[1,"row"],[1,"col-xs-12","col-md-6","col-md-offset-3"],[3,"message","close",4,"ngIf"],[4,"ngIf"],[3,"ngSubmit",4,"ngIf"],[3,"message","close"],[3,"ngSubmit"],["f","ngForm"],[1,"form-group"],["for","email"],["type","email","id","email","ngModel","","name","email","required","","email","",1,"form-control"],["for","password"],["type","password","id","password","ngModel","","name","password","required","","minlength","6",1,"form-control"],[1,"btn","btn-primary",3,"disabled"],[1,"btn","btn-primary",3,"click"]],template:function(t,s){t&1&&(r(0,"div",0)(1,"div",1),y(2,K,1,1,"app-alert",2)(3,Q,2,0,"div",3)(4,U,16,3,"form",4),o()()),t&2&&(l(2),m("ngIf",s.error),l(),m("ngIf",s.isLoading),l(),m("ngIf",!s.isLoading))},dependencies:[L,k,N,T,F,q,R,O,D,j,P,z],styles:["input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border:red solid 1px}"]});let i=e;return i})();var se=(()=>{let e=class e{};e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=w({type:e}),e.\u0275inj=b({imports:[E,G,B,A.forChild([{path:"",component:H}])]});let i=e;return i})();export{se as AuthModule};
